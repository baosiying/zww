var PicLazyUtil=function(){var t,e={},o=[];function n(t){for(var e={top:0,left:0};t;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;return e}function r(){e.testImgs()}e.pushImgs=function(t){for(var e=(t||document).getElementsByTagName("img"),n=0;n<e.length;n++)!e[n].getAttribute("data-src")&&!e[n].getAttribute("data-bg")||e[n].getAttribute("__lazyPushed")||(o.push(e[n]),e[n].setAttribute("__lazyPushed",1),t&&e[n].setAttribute("__domPushed",1))},e.testImgs=function(){if(0!=o.length){var r={};t?(r.top=t.scrollTop,r.left=t.scrollLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth):(r.top=document.body.scrollTop+document.documentElement.scrollTop,r.left=document.documentElement.scrollLeft,r.bottom=r.top+document.documentElement.clientHeight,r.right=r.left+document.documentElement.clientWidth);for(var i=0;i<o.length;i++){var l=o[i];if(l.offsetWidth){var a=l.clientWidth,s=l.clientHeight,c=n(l);e.th;(l.getAttribute("__domPushed")||c.top+e.th>=r.top&&c.top-e.th<=r.bottom&&c.left>=r.left&&c.left<=r.right||c.top+s>=r.top&&c.top<=r.bottom&&c.left+a>=r.left&&c.left<=r.right)&&(l.getAttribute("data-src")&&(l.src=l.getAttribute("data-src"),l.removeAttribute("data-src")),l.getAttribute("data-bg")&&(l.style.backgroundImage="url("+l.getAttribute("data-bg")+")",l.removeAttribute("data-bg")),o.splice(i,1),i--)}}}};var i=!1;return e.init=function(o,n){if(e.th=o||0,e.pushImgs(),e.testImgs(),!i){var l;if(i=!0,n){var a=document.getElementById(n);l=a,t=a}else l=window;l.addEventListener?(l.addEventListener("scroll",r,!1),l.addEventListener("resize",r,!1)):l.attachEvent?(l.attachEvent("onscroll",r),l.attachEvent("onresize",r)):(l.onscroll=r,l.onresize=r)}},window.PicLazyUtil=e,e}();